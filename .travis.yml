language: php
php:
    - 7.1
    - 7.2
    - 7.4
sudo: required
dist: xenial

before_install:
    - wget -O phive.phar https://phar.io/releases/phive.phar
    - wget -O phive.phar.asc https://phar.io/releases/phive.phar.asc
    - gpg --keyserver pool.sks-keyservers.net --recv-keys 0x9D8A98B29B2D5D79
    - gpg --verify phive.phar.asc phive.phar
    - chmod +x phive.phar
install:
    - ./phive.phar install
    - composer install

script:
    - ./psh code-style
    - ./psh quality
    - ./psh unit

matrix:
    allow_failures:
        - php: 7.4